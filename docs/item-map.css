/* item-map.css - Menu Radial de la Carte (Final - Mobile First & 4 Items Ã‰quilibrÃ©s) */

/* ------------------------------------------- */
/* DÃ‰FINITIONS DES COULEURS (Fallbacks) */
/* Ces variables sont incluses en fallback si elles ne sont pas dÃ©finies globalement. */
:root {
    --color-red: #FF4136;         /* Couleur d'action principale / d'urgence */
    --color-green: #2ECC40;       /* Couleur de succÃ¨s / actif */
    --color-yellow: #FFDC00;      /* Couleur d'Ã©nergie / avertissement */
    --color-bg-dark: #1F2833;     /* Fond sombre */
    --color-bg-card: #3D4A5C;     /* Fond des Ã©lÃ©ments inactifs */
    --color-text-light: #F2FF7;   /* Texte clair */
}

/* ------------------------------------------- */
/* 1. MOBILE FIRST (Ã‰CRANS < 768px) */
/* ------------------------------------------- */

/* FAB Container - Point de pivot en bas Ã  droite */
#road-map-container {
    position: fixed;
    bottom: 70px; 
    right: 15px;
    z-index: 1000;
    width: 42px;  
    height: 42px;
}

/* Bouton Principal (FAB) */
#road-map {
    width: 42px; 
    height: 42px;
    border-radius: 50%;
    background-color: var(--color-red, #FF4136); 
    color: var(--color-bg-dark, #111111);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.4);
    font-size: 1.3rem; 
    transition: transform 0.3s ease;
    border: none;
    position: absolute; 
    bottom: 0;
    right: 0;
    cursor: pointer;
}

#road-map.fab-open i {
    transform: rotate(135deg); 
    transition: transform 0.3s ease;
}

/* Items Satellites (Base - CachÃ© par dÃ©faut) */
.map-item {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 42px; 
    height: 42px;
    border-radius: 50%;
    background-color: var(--color-bg-card, #3D4A5C); 
    color: var(--color-text-light, #F2F4F7); 
    font-size: 1rem; 
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    opacity: 0; 
    z-index: -1; 
    border: 2px solid transparent; 
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease, background-color 0.3s;
    cursor: pointer;
}
.map-item:hover {
    transform: scale(1.1);
    background-color: var(--color-bg-dark, #1F2833);
}

/* ðŸ›‘ Activation du menu (rend les items visibles et au-dessus) */
#map-layers-menu:not(.hidden) .map-item {
    opacity: 1; 
    z-index: 999; 
}


/* ðŸ›‘ EFFET ORBITAL MOBILE (4 ITEMS) : Rayon ~75px, Angles Ã‰quilibrÃ©s */

#map-layers-menu:not(.hidden) .map-item:nth-child(1) {
    /* Points de Ralliement (~150Â°) */
    transform: translate(-38px, -65px); 
    transition-delay: 0.05s;
}

#map-layers-menu:not(.hidden) .map-item:nth-child(2) {
    /* Tuiles Satellite (~180Â°) */
    transform: translate(-75px, -35px); 
    transition-delay: 0.1s;
}

#map-layers-menu:not(.hidden) .map-item:nth-child(3) {
    /* Recharge Ã‰nergie (~210Â°) */
    transform: translate(-80px, 15px); 
    transition-delay: 0.15s;
}

#map-layers-menu:not(.hidden) .map-item:nth-child(4) {
    /* Analyse IA (~240Â°) */
    transform: translate(-60px, 40px); 
    transition-delay: 0.2s;
    background-color: #0074D9; /* Couleur Bleu Vif pour l'IA */
    color: white;
}

/* ------------------------------------------- */
/* 2. Ã‰TAT ACTIF (Feedback Visuel) */
/* ------------------------------------------- */

.map-item.active-layer {
    background-color: var(--color-green, #2ECC40); 
    color: var(--color-bg-dark, #111111);
    border: 2px solid var(--color-yellow, #FFDC00);
    box-shadow: 0 0 10px var(--color-green, #2ECC40);
}

/* ------------------------------------------- */
/* 3. MEDIA QUERY (Ã‰CRANS > 768px, Desktop) */
/* ------------------------------------------- */

@media (min-width: 768px) {
    
    /* ðŸ›‘ Bouton Principal (FAB) : Taille Standard pour Desktop */
    #road-map-container {
        bottom: 80px; 
        right: 20px;
        width: 60px; 
        height: 60px;
    }

    #road-map {
        width: 60px; 
        height: 60px;
        font-size: 1.5rem; 
    }

    /* Items Satellites : Taille Standard et Rayon Standard */
    .map-item {
        width: 50px; 
        height: 50px;
        font-size: 1.2rem;
    }

    /* ðŸ›‘ EFFET ORBITAL DESKTOP (4 ITEMS) : Rayon ~140px */
    
    #map-layers-menu:not(.hidden) .map-item:nth-child(1) {
        /* Points de Ralliement (~150Â°) */
        transform: translate(-70px, -120px); 
    }
    
    #map-layers-menu:not(.hidden) .map-item:nth-child(2) {
        /* Tuiles Satellite (~180Â°) */
        transform: translate(-140px, -70px); 
    }
    
    #map-layers-menu:not(.hidden) .map-item:nth-child(3) {
        /* Recharge Ã‰nergie (~210Â°) */
        transform: translate(-140px, 0px);
    }

    #map-layers-menu:not(.hidden) .map-item:nth-child(4) {
        /* Analyse IA (~240Â°) */
        transform: translate(-70px, 50px); 
    }
}