// Fichier : public/src/js/icons.js

// Définition des icônes personnalisées
export const manifestationIcon = L.icon({ iconUrl: 'src/img/manifestation-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const mairieIcon = L.icon({ iconUrl: 'src/img/mairie-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const prefectureIcon = L.icon({ iconUrl: 'src/img/pref.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const telegramIcon = L.icon({ iconUrl: 'src/img/telegram.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const universityIcon = L.icon({ iconUrl: 'src/img/university.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const hospitalIcon = L.icon({ iconUrl: 'src/img/hospital.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const roundaboutIcon = L.icon({ iconUrl: 'src/img/roundabout-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const porteIcon = L.icon({ iconUrl: 'src/img/porte-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const elyseeIcon = L.icon({ iconUrl: 'src/img/boutique.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const banqueDeFranceIcon = L.icon({ iconUrl: 'src/img/banque_de_france.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const cameraIcon = L.icon({ iconUrl: 'src/img/camera-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const fixedCameraIcon = L.icon({ iconUrl: 'src/img/fixed-camera.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const panoramicCameraIcon = L.icon({ iconUrl: 'src/img/panoramic-camera.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const domeCameraIcon = L.icon({ iconUrl: 'src/img/dome-camera.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const guardIcon = L.icon({ iconUrl: 'src/img/guard-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const alprIcon = L.icon({ iconUrl: 'src/img/alpr-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const boycottIcon = L.icon({ iconUrl: 'src/img/boycott-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const transportIcon = L.icon({ iconUrl: 'src/img/transport-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const artisanatIcon = L.icon({ iconUrl: 'src/img/artisanat-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const tourismeIcon = L.icon({ iconUrl: 'src/img/tourisme-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const industrieIcon = L.icon({ iconUrl: 'src/img/industry.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const agricoleIcon = L.icon({ iconUrl: 'src/img/agricole-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const economieIcon = L.icon({ iconUrl: 'src/img/banque_de_france.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const satelliteIcon = L.icon({ iconUrl: 'src/img/satellite.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const orangeIcon = L.icon({ iconUrl: 'src/img/Orange.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const sfrIcon = L.icon({ iconUrl: 'src/img/SFR.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const freeIcon = L.icon({ iconUrl: 'src/img/Free.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const bouyguesIcon = L.icon({ iconUrl: 'src/img/Bouygues.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const antennaIcon = L.icon({ iconUrl: 'src/img/antenna.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const telecomIcon = L.icon({ iconUrl: 'src/img/telecom.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const syndicatsIcon = L.icon({ iconUrl: 'src/img/syndicats.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const cgtIcon = L.icon({ iconUrl: 'src/img/cgt.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const foIcon = L.icon({ iconUrl: 'src/img/fo.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const solidaireIcon = L.icon({ iconUrl: 'src/img/solidaire.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const fsneaIcon = L.icon({ iconUrl: 'src/img/fsnea.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const dossierIcon = L.icon({ iconUrl: 'src/img/folder-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const agIcon = L.icon({ iconUrl: 'src/img/ag-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const pendingIcon = L.icon({ iconUrl: 'src/img/pending-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
export const partyIcon = L.icon({ iconUrl: 'src/img/party-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });

export const entityIcons = {
    'Leclerc': L.icon({ iconUrl: 'src/img/Leclerc.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Carrefour': L.icon({ iconUrl: 'src/img/Carrefour.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Amazon': L.icon({ iconUrl: 'src/img/Amazon-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Intermarché': L.icon({ iconUrl: 'src/img/Intermarche.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Super U': L.icon({ iconUrl: 'src/img/U.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Auchan': L.icon({ iconUrl: 'src/img/Auchan.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Lidl': L.icon({ iconUrl: 'src/img/Lidl.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Aldi': L.icon({ iconUrl: 'src/img/Aldi.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Monoprix': L.icon({ iconUrl: 'src/img/Monoprix.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Proxy/Cocci-MARKET': L.icon({ iconUrl: 'src/img/Proxy_Cocci-MARKET.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Total': L.icon({ iconUrl: 'src/img/total.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'HSBC': L.icon({ iconUrl: 'src/img/HSBC.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Société Générale': L.icon({ iconUrl: 'src/img/SocieteGenerale.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Crédit Coopératif': L.icon({ iconUrl: 'src/img/CreditCooperatif.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Crédit Agricole': L.icon({ iconUrl: 'src/img/CreditAgricole.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'La Poste': L.icon({ iconUrl: 'src/img/LaPoste.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Crédit Lyonnais': L.icon({ iconUrl: 'src/img/CreditLyonnais.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Crédit Mutuel': L.icon({ iconUrl: 'src/img/CreditMutuel.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'CIC': L.icon({ iconUrl: 'src/img/CIC.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'EUROPAFI': L.icon({ iconUrl: 'src/img/EUROPAFI.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Banque de France': banqueDeFranceIcon,
    'Camera Point': cameraIcon,
    'McDonald\'s': L.icon({ iconUrl: 'src/img/McDonalds.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] }),
    'Orange': orangeIcon,
    'SFR': sfrIcon,
    'Free': freeIcon,
    'Bouygues Telecom': bouyguesIcon
};

/**
 * Récupère l'icône appropriée pour un point de caméra en fonction de son type.
 */
export function getIconForCameraPoint(cameraType) {
    switch (cameraType) {
        case 'fixed': return fixedCameraIcon;
        case 'panning': return panoramicCameraIcon;
        case 'dome': return domeCameraIcon;
        case 'guard': return guardIcon;
        case 'ALPR': return alprIcon;
        default: return cameraIcon;
    }
}

/**
 * Récupère l'icône appropriée pour une catégorie.
 */
export function getIconForCategory(categoryName) {
    switch (categoryName) {
        case 'Commerce': return boycottIcon;
        case 'Économie': return banqueDeFranceIcon;
        case 'Caméras': return cameraIcon;
        case 'Éducation': return universityIcon;
        case 'Santé': return hospitalIcon;
        case 'Gouvernement': return mairieIcon;
        case 'Manifestation': return manifestationIcon;
        case 'Points Stratégiques': return roundaboutIcon;
        case 'Réseaux Sociaux': return telegramIcon;
        case 'Industrie': return industrieIcon;
        case 'Satellites': return satelliteIcon;
        case 'Télécommunications': return telecomIcon;
        case 'Intersyndical': return syndicatsIcon;
        case 'Dossiers de Preuves': return dossierIcon;
        case 'Assemblée Générale': return agIcon;
        case 'Soumissions en attente': return pendingIcon;
        default: return L.icon({ iconUrl: 'src/img/default-icon.png', iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32] });
    }
}

/**
 * Récupère l'icône appropriée pour un élément de données.
 */
export function getIconForItem(item) {
    if (item.category === 'Soumissions en attente') {
        return pendingIcon;
    }
    
    if (item.syndicats && Array.isArray(item.syndicats) && item.syndicats.length > 0) {
        const syndicat = item.syndicats[0].toLowerCase();
        if (syndicat.includes('cgt')) return cgtIcon;
        if (syndicat.includes('fo')) return foIcon;
        if (syndicat.includes('solidaire') || syndicat.includes('sud')) return solidaireIcon;
        if (syndicat.includes('fsnea')) return fsneaIcon;
        return syndicatsIcon;
    }
    
    if (item.type === 'Dossier' && item.category === 'Dossiers de Preuves') return dossierIcon;
    if (item.type === 'AG' && item.category === 'Assemblée Générale') return agIcon;
    if (item.type === 'Parti Politique' && item.category === 'Gouvernement') return partyIcon;

    if (item.name && entityIcons[item.name]) {
        return entityIcons[item.name];
    }
    
    if (item.type) {
        const typeLower = item.type.toLowerCase();
        if (typeLower.includes('préfecture')) return prefectureIcon;
        if (typeLower.includes('mairie')) return mairieIcon;
        if (typeLower.includes('université')) return universityIcon;
        if (typeLower.includes('hôpital')) return hospitalIcon;
        if (typeLower.includes('banque') || typeLower.includes('crédit') || typeLower.includes('financière') || typeLower.includes('europafi')) return banqueDeFranceIcon;
        if (typeLower.includes('telegram')) return telegramIcon;
        if (typeLower.includes('rond-point')) return roundaboutIcon;
        if (typeLower.includes('porte')) return porteIcon;
        if (typeLower.includes('orange') || typeLower.includes('sfr') || typeLower.includes('free') || typeLower.includes('bouygues')) return telecomIcon;
        if (typeLower.includes('antenne')) return antennaIcon;
    }
    return getIconForCategory(item.category);
}